[build]
command = "npm run build"
publish = ".next"
functions = "netlify/functions"

[[plugins]]
package = "@netlify/plugin-nextjs"

[[plugins]]
package = "@netlify/plugin-lighthouse"
	[plugins.inputs]
	audit_url = "https://smanesiolympiadclub.netlify.app"
	output_path = "./.lighthouse"
	[plugins.inputs.thresholds]
	  performance = 0.9
	  accessibility = 0.9
	  best_practices = 0.9
	  seo = 0.9

[[headers]]
for = "/*"
	[headers.values]
	X-Frame-Options = "DENY"
	X-XSS-Protection = "1; mode=block"
	Referrer-Policy = "strict-origin-when-cross-origin"
	Content-Security-Policy = "default-src 'self' https://*.supabase.co; img-src 'self' data:; script-src 'self'; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com;"
